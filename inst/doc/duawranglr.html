<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>Data usage agreements</title>

<script type="text/javascript">
window.onload = function() {
  var imgs = document.getElementsByTagName('img'), i, img;
  for (i = 0; i < imgs.length; i++) {
    img = imgs[i];
    // center an image if it is the only element of its parent
    if (img.parentElement.childElementCount === 1)
      img.parentElement.style.textAlign = 'center';
  }
};
</script>





<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 13px;
}

body {
  max-width: 800px;
  margin: auto;
  padding: 1em;
  line-height: 20px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 {
   font-size:2.2em;
}

h2 {
   font-size:1.8em;
}

h3 {
   font-size:1.4em;
}

h4 {
   font-size:1.0em;
}

h5 {
   font-size:0.9em;
}

h6 {
   font-size:0.8em;
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre, img {
  max-width: 100%;
}
pre {
  overflow-x: auto;
}
pre code {
   display: block; padding: 0.5em;
}

code {
  font-size: 92%;
  border: 1px solid #ccc;
}

code[class] {
  background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * {
      background: transparent !important;
      color: black !important;
      filter:none !important;
      -ms-filter: none !important;
   }

   body {
      font-size:12pt;
      max-width:100%;
   }

   a, a:visited {
      text-decoration: underline;
   }

   hr {
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote {
      padding-right: 1em;
      page-break-inside: avoid;
   }

   tr, img {
      page-break-inside: avoid;
   }

   img {
      max-width: 100% !important;
   }

   @page :left {
      margin: 15mm 20mm 15mm 10mm;
   }

   @page :right {
      margin: 15mm 10mm 15mm 20mm;
   }

   p, h2, h3 {
      orphans: 3; widows: 3;
   }

   h2, h3 {
      page-break-after: avoid;
   }
}
</style>



</head>

<body>
<p>The guiding principle behind duawranglr is to make it easier for
organizations to share data that contain protected elements and/or
personally idenfiable information (PII) with researchers. There are
two key problems this package attempts to solve:</p>

<ol>
<li>Data owners and reseachers may wish to collaborate on multiple
projects, each with a different level of data security required;
executing a unique data usage agreement (DUA) for each project can be
time consuming and inefficient.<br/></li>
<li>Administrators tasked with approving data requests do not always
have the time or technical proficiency to closely review the code that
reads, subsets, filters, and deidentifies data files according to a
DUA.<br/></li>
</ol>

<h2>Data usage agreements</h2>

<p>The duawranglr package is designed with the idea that rather than
setting a new DUA for each project in an ongoing collaboration between
researchers and data partners, two things will happen instead:  </p>

<ol>
<li>An overarching DUA will be signed that establishes a general
framework for collaboration with multiple pre-established levels of
data restriction; for each new project, these levels (<em>e.g.</em>, I, II,
&amp; III) are invoked and used to determine which variables may be
shared, with whom, and under what conditions according to the DUA.<br/></li>
<li>An associated crosswalk file&mdash;which can be an easy-to-modify and
share spreadsheet&mdash;will list the names of data elements that are
restricted at each level. This crosswalk is then used to clearly
transform raw restricted data files into those that can be shared
under the conditions of the DUA.</li>
</ol>

<h2>An example DUA crosswalk</h2>

<p>An example crosswalk file (<em>e.g.</em> a CSV file or Excel spreadsheet)
might look like this:  </p>

<table><thead>
<tr>
<th align="center">level_i</th>
<th align="center">level_ii</th>
<th align="center">level_iii</th>
</tr>
</thead><tbody>
<tr>
<td align="center">sid</td>
<td align="center">sid</td>
<td align="center">sid</td>
</tr>
<tr>
<td align="center">sname</td>
<td align="center">sname</td>
<td align="center">sname</td>
</tr>
<tr>
<td align="center">dob</td>
<td align="center">dob</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">gender</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">raceeth</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">tid</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">tname</td>
<td align="center">tname</td>
<td align="center">tname</td>
</tr>
<tr>
<td align="center">zip</td>
<td align="center">zip</td>
<td align="center"></td>
</tr>
</tbody></table>

<p>Each column represents a restriction level&mdash;<code>level_i</code>, <code>level_ii</code>, or
<code>level_iii</code>&mdash;along with the corresponding data element names that are
restricted at that level. In this crosswalk, like variable names have
been aligned so that they are easier to compare, but the elements can
be included in whichever way makes most sense to the data
administrator.</p>

<p>The restriction level names are arbitrary as far as the package goes,
but in conjunction with a DUA, they have meaning:</p>

<ul>
<li><strong>Level I</strong>: The first level produces data sets that can be shared more
widely, but at the cost of losing access to many data elements in
the final data set.</li>
<li><strong>Level II:</strong> The second level has slightly fewer data element
restrictions, making it better for more research projects. Data
produced at this level likely come with more sharing and storage
restrictions than those produced at the first level.</li>
<li><strong>Level III:</strong> The third level has the fewest restrictions: only names
and the student&#39;s ID cannot be contained in the final data set. Data
produced at this level will have the strongest restrictions on who
can use it an how it is stored by the research team.</li>
</ul>

<p>The benefit of this level-plus-crosswalk system is two-fold:</p>

<ol>
<li>Data element restrictions are clearly defined for each level, which
in turn has its own clearly defined scope for data storage and
sharing. When starting a new project under the scope of the DUA,
researchers and data partners need only to assign a proper level
based on the needs of the analyses.</li>
<li>Because the crosswalk is a simple tabular file, data element names
can easily be added or deleted by data partners who do not
typically use data analysis software. This helps keep the process
transparent for all team members.</li>
</ol>

<h2>What duawranglr does <strong>not</strong> do</h2>

<p>Functions in the package do not  </p>

<ol>
<li>Replace existing data wrangling functions<br/></li>
<li>Guarantee data security<br/></li>
</ol>

<p>There are many packages, such as those in the
<a href="https://www.tidyverse.org">tidyverse</a> suite, that are already well
suited to data wrangling tasks. There is no need to replicate those
functions in this package.</p>

<p>It also should go without saying, but users can simply <em>not use</em>
functions in this package when attempting to secure restricted
data. What this package does is offer a framework and a set of useful
functions that, when followed, help users secure data in a clear and
replicable manner that allows data administrators to more easily
participate in the process.</p>

</body>

</html>
